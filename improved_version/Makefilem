NAME	=	minishell
CC		=	gcc
CFLAGS	=	-Wall -Wextra -Werror

NAME			= minishell
CC				= gcc
CFLAGS			= -Wall -Werror -Wextra

INC				= -I./inc
LIBS			= -Llibs/libft -lft -I$(HOME)/.brew/opt/readline/include \
				  -L$(HOME)/.brew/opt/readline/lib -lreadline

LIBFT			= ./libs/libft/libft.a

SRC_FILES 	:=	builtin_cd.c builtin_echo.c builtin_env.c builtin_exit.c \
			builtin_export.c builtin_pwd.c builtin_unset.c builtins.c \
			environment.c \
			exec_child.c exec_pipeline.c exec_redir.c exec_scmd.c \
			exec_utils.c exec_wait.c executor.c \
			expander_utils.c expander.c \
			lexer.c main.c minishell_gnl.c \
			parse_heredoc.c parse_redir.c parser.c \
			quote_remover.c signal.c syntax_check.c \
			utils_array.c utils_clear.c utils_error.c


SRCS = $(addprefix src/, $(SRC_FILES))

all: $(NAME)

$(NAME): $(LIBFT) $(SRCS)
	$(CC) -o $(NAME) $(CFLAGS) $(SRCS) $(INC) $(LIBS)

$(LIBFT):
	make -C ./libs/libft

clean:
	make clean -C ./libs/libft

fclean:
	make fclean -C ./libs/libft
	rm -rf $(NAME)

re: fclean all